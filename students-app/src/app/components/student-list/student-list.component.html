<div class="header">
  <h2>Student Management Dashboard</h2>
  <button (click)="logout()">Logout</button>
</div>

<div class="content-container">
  
  <div class="form-panel">
    <h3>{{ isEditing ? 'Edit Student' : 'Add New Student' }}</h3>
    <form [formGroup]="studentForm" (ngSubmit)="saveStudent()">
      <div class="form-group">
        <label for="name">Name</label>
        <input id="name" type="text" formControlName="name" placeholder="Student Name" required>
      </div>
      
      <div class="form-group">
        <label for="class">Class</label>
        <input id="class" type="text" formControlName="class" placeholder="Class" required>
      </div>

      <div class="form-group">
        <label for="section">Section</label>
        <input id="section" type="text" formControlName="section" placeholder="Section" required>
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="studentForm.invalid">{{ isEditing ? 'Update Student' : 'Add Student' }}</button>
        <button type="button" (click)="resetForm()" *ngIf="isEditing">Cancel Edit</button>
      </div>
    </form>
  </div>

  <div class="list-panel">
    <h3>Student List ({{ students.length }})</h3>
    <table *ngIf="students.length > 0; else noStudents">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Class</th>
          <th>Section</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of students">
          <td>{{ student.id }}</td>
          <td>{{ student.name }}</td>
          <td>{{ student.class }}</td>
          <td>{{ student.section }}</td>
          <td class="action-buttons">
            <button class="edit-btn" (click)="editStudent(student)">Edit</button>
            <button class="delete-btn" (click)="deleteStudent(student.id!)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <ng-template #noStudents>
      <p class="no-data">No students found. Add a new student using the form above.</p>
    </ng-template>
  </div>
</div>

<style>
  .header { display: flex; justify-content: space-between; align-items: center; padding: 10px; background-color: #f4f4f4; border-bottom: 1px solid #ddd; }
  .content-container { display: flex; padding: 20px; gap: 20px; }
  .form-panel { flex: 1; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
  .list-panel { flex: 2; }
  .form-group { margin-bottom: 15px; }
  input { width: 100%; padding: 8px; box-sizing: border-box; }
  .form-actions button { margin-right: 10px; padding: 10px 15px; }

  table { width: 100%; border-collapse: collapse; }
  th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
  .action-buttons button { margin: 0 5px; padding: 5px 10px; cursor: pointer; }
  .edit-btn { background-color: #4CAF50; color: white; }
  .delete-btn { background-color: #f44336; color: white; }
  .no-data { color: gray; text-align: center; padding: 20px; }
</style>